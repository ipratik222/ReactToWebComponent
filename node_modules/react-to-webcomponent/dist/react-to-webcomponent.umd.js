(function(p,a){typeof exports=="object"&&typeof module<"u"?module.exports=a():typeof define=="function"&&define.amd?define(a):(p=typeof globalThis<"u"?globalThis:p||self,p["react-to-webcomponent"]=a())})(this,function(){"use strict";const p=Symbol.for("r2wc.reactRender"),a=Symbol.for("r2wc.shouldRender"),b=Symbol.for("r2wc.root");function C(o=""){return o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function E(o){return o.split("").every(f=>f.toUpperCase()===f)}function g(o){return Array.isArray(o)&&o.length===1?o[0]:o}function N(o,f){var n;if(f.nodeType===Node.TEXT_NODE)return(n=f.textContent)==null?void 0:n.toString();const s=Array.from(f.childNodes).map(i=>{var u;if(i.nodeType===Node.TEXT_NODE)return(u=i.textContent)==null?void 0:u.toString();const y=E(i.nodeName)?i.nodeName.toLowerCase():i.nodeName,h=g(N(o,i)),A={};for(const l of i.getAttributeNames())A[l]=i.getAttribute(l);return o.createElement(y,A,h)});return g(s)}const S={expando:function(o,f,s){Object.defineProperty(o,f,{enumerable:!0,get:function(){return s},set:function(n){s=n,this[p]()}}),o[p]()}};function w(o,f,s,n={}){const i={},y={},h={};n.props||(n.props=o.propTypes?Object.keys(o.propTypes):[]),(Array.isArray(n.props)?n.props.slice():Object.keys(n.props)).forEach(r=>{var e;i[r]=Array.isArray(n.props)?String:(e=n.props)==null?void 0:e[r],y[r]=C(r),h[y[r]]=r});const u={isConnected:"isConnected"in HTMLElement.prototype};let l=!1;const m=function(...r){const e=Reflect.construct(HTMLElement,r,this.constructor);return typeof n.shadow=="string"?e.attachShadow({mode:n.shadow}):n.shadow&&(console.warn('Specifying the "shadow" option as a boolean is deprecated and will be removed in a future version.'),e.attachShadow({mode:"open"})),e},d=Object.create(HTMLElement.prototype);d.constructor=m;const x=new Proxy(d,{has:function(r,e){return e in i||e in d},set:function(r,e,t,c){return l&&(u[e]=!0),typeof e=="symbol"||u[e]||e in r?(o.propTypes&&e in o.propTypes&&typeof e=="string"&&S.expando(c,e,t),Reflect.set(r,e,t,c)):(S.expando(c,e,t),!0)},getOwnPropertyDescriptor:function(r,e){const t=Reflect.getOwnPropertyDescriptor(r,e);if(t)return t;if(e in i)return{configurable:!0,enumerable:!0,writable:!0,value:void 0}}});return m.prototype=x,d.connectedCallback=function(){this[a]=!0,this[p]()},d.disconnectedCallback=function(){s.createRoot&&typeof s.createRoot=="function"?this[b].unmount():s.unmountComponentAtNode&&s.unmountComponentAtNode(this)},d[p]=function(){if(this[a]===!0){const r={};Object.keys(this).forEach(function(T){u[T]!==!1&&(r[T]=this[T])},this),l=!0;const e=n.shadow?this.shadowRoot:this,t=g(N(f,this)),c=f.createElement(o,r,t);s.createRoot&&typeof s.createRoot=="function"?(this[b]||(this[b]=s.createRoot(e)),this[b].render(c)):s.render&&s.render(c,e),l=!1}},m.observedAttributes=Object.keys(h),d.attributeChangedCallback=function(r,e,t){const c=h[r]||r;switch(i[c]){case"ref":case Function:if(!t&&i[c]==="ref"){t=f.createRef();break}typeof window<"u"?t=window[t]||t:typeof global<"u"&&(t=global[t]||t),typeof t=="function"&&(t=t.bind(this));break;case Number:t=parseFloat(t);break;case Boolean:t=/^[ty1-9]/i.test(t);break;case Object:case Array:t=JSON.parse(t);break}this[c]=t},m}return w});
